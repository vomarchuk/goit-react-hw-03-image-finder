{"version":3,"sources":["conponents/App/App.module.css","conponents/ImageGalleryItem/ImageGalleryItem.module.css","conponents/Modal/Modal.module.css","conponents/Container/Container.module.css","conponents/ImageGallery/ImageGallery.module.css","conponents/Button/Button.module.css","conponents/Container/Container.js","conponents/Searchbar/Searchbar.js","conponents/ImageGalleryItem/ImageGalleryItem.js","conponents/ImageGallery/ImageGallery.js","API/api-service.js","conponents/Button/Button.js","conponents/Modal/Modal.js","conponents/App/App.js","index.js","conponents/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","state","searchValue","hundleChange","event","preventDefault","setState","currentTarget","value","hundleSubmit","trim","toast","error","props","onSubmit","searchbar","this","searchForm","type","searchForm_button","searchForm_button_label","searchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","tags","openModal","largeImageURL","imageGallery","onClick","e","target","dataset","large","src","alt","imageGalleryItem_image","ImageGallery","search","map","item","id","getImagesCollections","page","API_KEY","url","axios","get","then","response","data","hits","Button","incrementPage","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","window","addEventListener","removeEventListener","createPortal","overlay","modal","status","App","articles","showModal","modalImage","handlerSearchForm","handleIncrement","catch","prevProps","prevState","newSearch","nextPage","getImages","scrollTo","top","documentElement","scrollHeight","behavior","modalImg","loader","color","height","width","section","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29c9e183.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"App_section__240-0\",\"loader\":\"App_loader__38Whi\",\"modalImg\":\"App_modalImg__2OBJq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__uCjCU\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__1JYVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1gnwo\",\"modal\":\"Modal_modal__IT3f1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1EEyW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__tyHTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__GHucs\"};","import PropTypes from 'prop-types';\n\nimport s from './Container.module.css';\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.any,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  hundleChange = event => {\n    event.preventDefault();\n    this.setState({ searchValue: event.currentTarget.value });\n  };\n  hundleSubmit = event => {\n    event.preventDefault();\n    if (this.state.searchValue.trim() === '') {\n      return toast.error('Enter the names of the pictures');\n    }\n    this.props.onSubmit(this.state.searchValue);\n    this.setState({ searchValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.hundleSubmit} className={s.searchForm}>\n          <button type=\"submit\" className={s.searchForm_button}>\n            <span className={s.searchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.searchForm_input}\n            type=\"text\"\n            value={this.state.searchValue}\n            onChange={this.hundleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  Searchbar: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\nconst ImageGalleryItem = ({ webformatURL, tags, openModal, largeImageURL }) => {\n  return (\n    <li className={s.imageGallery}>\n      <img\n        onClick={e => {\n          openModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt={tags}\n        className={s.imageGalleryItem_image}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  openModal: PropTypes.func,\n  largeImageURL: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ search, openModal }) => {\n  return (\n    <>\n      <ul className={s.imageGallery}>\n        {search &&\n          search.map(item => (\n            <ImageGalleryItem\n              key={item.id}\n              webformatURL={item.webformatURL}\n              tags={item.webformatURL}\n              openModal={openModal}\n              largeImageURL={item.largeImageURL}\n            />\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\nImageGallery.propTypes = {\n  openModal: PropTypes.func,\n  search: PropTypes.array,\n};\n","import axios from 'axios';\n\nconst getImagesCollections = (search, page = 1) => {\n  const API_KEY = '22192349-6b91fd76fde5f4977c0f7c9ea';\n  const url = 'https://pixabay.com/api/';\n  return axios\n    .get(\n      `${url}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => {\n      return response.data.hits;\n    });\n};\nexport default getImagesCollections;\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nconst Button = ({ incrementPage }) => (\n  <button type=\"button\" className={s.button} onClick={incrementPage}>\n    Load mode\n  </button>\n);\nexport default Button;\n\nButton.propTypes = {\n  incrementPage: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') this.props.closeModal();\n  };\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) this.props.closeModal();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <button\n            type=\"button\"\n            onClick={() => {\n              this.props.closeModal();\n            }}\n          >\n            Close\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  children: PropTypes.object,\n  closeModal: PropTypes.func,\n};\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport React, { Component } from 'react';\n\nimport Loader from 'react-loader-spinner';\n\nimport s from './App.module.css';\nimport Container from '../Container';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport getImagesCollections from '../../API/api-service';\nimport Button from '../Button';\nimport Modal from '../Modal';\n\nconst status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n    articles: [],\n    status: status.IDLE,\n    page: 1,\n    error: '',\n    showModal: false,\n    modalImage: '',\n  };\n\n  getImages(search, page) {\n    getImagesCollections(search, page)\n      .then(response =>\n        this.setState({\n          articles: [...this.state.articles, ...response],\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  }\n\n  handlerSearchForm = searchValue => {\n    this.setState({\n      searchValue,\n      articles: [],\n      page: 1,\n      status: status.PENDING,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const newSearch = this.state.searchValue;\n    const nextPage = this.state.page;\n\n    if (this.state.status === 'pending' && prevProps.prevProps !== this.props) {\n      this.setState({ status: status.RESOLVED });\n      this.getImages(newSearch, nextPage);\n    }\n    if (this.state.status === 'resolved' && prevState.page !== nextPage) {\n      this.getImages(newSearch, nextPage);\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  openModal = url => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImage: url,\n    }));\n  };\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImage: '',\n    }));\n  };\n\n  render() {\n    const { status, articles, showModal, modalImage } = this.state;\n    return (\n      <>\n        <Container>\n          <Searchbar onSubmit={this.handlerSearchForm} />\n        </Container>\n\n        {showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img src={modalImage} alt=\"\" className={s.modalImg} />\n          </Modal>\n        )}\n        {status === 'pending' && (\n          <Loader\n            className={s.loader}\n            type=\"BallTriangle\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        {status === 'resolved' && (\n          <section className={s.section}>\n            <Container>\n              <ImageGallery search={articles} openModal={this.openModal} />\n              <Button incrementPage={this.handleIncrement} />\n            </Container>\n          </section>\n        )}\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './conponents/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__gMri2\",\"searchForm\":\"Searchbar_searchForm__3p5_A\",\"searchForm_button\":\"Searchbar_searchForm_button__3fmXD\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__1kmRo\",\"searchForm_input\":\"Searchbar_searchForm_input__2ugIS\"};"],"sourceRoot":""}